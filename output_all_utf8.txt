============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-8.3.4, pluggy-1.5.0 -- C:\Users\shreyas\anaconda3\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\shreyas\Downloads\project-mesa\mesa-os
configfile: pyproject.toml
plugins: anyio-4.11.0, dash-2.18.2, mock-3.15.1, timeout-2.4.0
collecting ... collected 81 items

tests/test_space_renderer.py::test_backend_selection PASSED              [  1%]
tests/test_space_renderer.py::test_space_drawer_selection[grid0-OrthogonalSpaceDrawer] PASSED [  2%]
tests/test_space_renderer.py::test_space_drawer_selection[grid1-OrthogonalSpaceDrawer] PASSED [  3%]
tests/test_space_renderer.py::test_space_drawer_selection[grid2-OrthogonalSpaceDrawer] PASSED [  4%]
tests/test_space_renderer.py::test_space_drawer_selection[grid3-HexSpaceDrawer] PASSED [  6%]
tests/test_space_renderer.py::test_space_drawer_selection[grid4-HexSpaceDrawer] PASSED [  7%]
tests/test_space_renderer.py::test_space_drawer_selection[grid5-HexSpaceDrawer] PASSED [  8%]
tests/test_space_renderer.py::test_space_drawer_selection[grid6-NetworkSpaceDrawer] PASSED [  9%]
tests/test_space_renderer.py::test_space_drawer_selection[grid7-NetworkSpaceDrawer] PASSED [ 11%]
tests/test_space_renderer.py::test_space_drawer_selection[grid8-ContinuousSpaceDrawer] PASSED [ 12%]
tests/test_space_renderer.py::test_space_drawer_selection[grid9-VoronoiSpaceDrawer] PASSED [ 13%]
tests/test_space_renderer.py::test_map_coordinates PASSED                [ 14%]
tests/test_space_renderer.py::test_render_calls PASSED                   [ 16%]
tests/test_space_renderer.py::test_no_property_layers PASSED             [ 17%]
tests/test_space_renderer.py::test_post_process PASSED                   [ 18%]
tests/test_space_drawer.py::TestOrthogonalSpaceDrawer::test_init PASSED  [ 19%]
tests/test_space_drawer.py::TestOrthogonalSpaceDrawer::test_draw_matplotlib PASSED [ 20%]
tests/test_space_drawer.py::TestOrthogonalSpaceDrawer::test_draw_altair PASSED [ 22%]
tests/test_space_drawer.py::TestOrthogonalSpaceDrawer::test_get_viz_limits PASSED [ 23%]
tests/test_space_drawer.py::TestOrthogonalSpaceDrawer::test_draw_matplotlib_with_custom_ax PASSED [ 24%]
tests/test_space_drawer.py::TestHexSpaceDrawer::test_init PASSED         [ 25%]
tests/test_space_drawer.py::TestHexSpaceDrawer::test_get_unique_edges PASSED [ 27%]
tests/test_space_drawer.py::TestHexSpaceDrawer::test_draw_matplotlib PASSED [ 28%]
tests/test_space_drawer.py::TestHexSpaceDrawer::test_draw_altair PASSED  [ 29%]
tests/test_space_drawer.py::TestHexSpaceDrawer::test_get_viz_limits PASSED [ 30%]
tests/test_space_drawer.py::TestNetworkSpaceDrawer::test_init PASSED     [ 32%]
tests/test_space_drawer.py::TestNetworkSpaceDrawer::test_draw_matplotlib PASSED [ 33%]
tests/test_space_drawer.py::TestNetworkSpaceDrawer::test_draw_altair PASSED [ 34%]
tests/test_space_drawer.py::TestNetworkSpaceDrawer::test_get_viz_limits PASSED [ 35%]
tests/test_space_drawer.py::TestNetworkSpaceDrawer::test_network_layout PASSED [ 37%]
tests/test_space_drawer.py::TestContinuousSpaceDrawer::test_init PASSED  [ 38%]
tests/test_space_drawer.py::TestContinuousSpaceDrawer::test_draw_matplotlib PASSED [ 39%]
tests/test_space_drawer.py::TestContinuousSpaceDrawer::test_draw_altair PASSED [ 40%]
tests/test_space_drawer.py::TestContinuousSpaceDrawer::test_get_viz_limits PASSED [ 41%]
tests/test_space_drawer.py::TestContinuousSpaceDrawer::test_continuous_space_with_custom_bounds PASSED [ 43%]
tests/test_space_drawer.py::TestVoronoiSpaceDrawer::test_init PASSED     [ 44%]
tests/test_space_drawer.py::TestVoronoiSpaceDrawer::test_clip_line PASSED [ 45%]
tests/test_space_drawer.py::TestVoronoiSpaceDrawer::test_draw_matplotlib PASSED [ 46%]
tests/test_space_drawer.py::TestVoronoiSpaceDrawer::test_draw_altair PASSED [ 48%]
tests/test_space_drawer.py::TestVoronoiSpaceDrawer::test_get_viz_limits PASSED [ 49%]
tests/test_space_drawer.py::TestVoronoiSpaceDrawer::test_get_clipped_segments PASSED [ 50%]
tests/test_space_drawer.py::TestEdgeCases::test_single_point_voronoi_grid PASSED [ 51%]
tests/test_space_drawer.py::TestEdgeCases::test_continuous_space_zero_size PASSED [ 53%]
tests/test_space_drawer.py::TestEdgeCases::test_network_empty_graph PASSED [ 54%]
tests/test_space_drawer.py::TestEdgeCases::test_hex_grid_single_cell PASSED [ 55%]
tests/test_solara_viz.py::TestMakeUserInput::test_checkbox PASSED        [ 56%]
tests/test_solara_viz.py::TestMakeUserInput::test_label_fallback PASSED  [ 58%]
tests/test_solara_viz.py::TestMakeUserInput::test_slider_int PASSED      [ 59%]
tests/test_solara_viz.py::TestMakeUserInput::test_unsupported_type PASSED [ 60%]
tests/test_solara_viz.py::test_call_space_drawer PASSED                  [ 61%]
tests/test_solara_viz.py::test_slider PASSED                             [ 62%]
tests/test_solara_viz.py::test_model_param_checks PASSED                 [ 64%]
tests/test_solara_viz.py::test_model_creator PASSED                      [ 65%]
tests/test_solara_viz.py::test_check_model_params_with_args_only PASSED  [ 66%]
tests/test_discrete_space.py::test_orthogonal_grid_neumann PASSED        [ 67%]
tests/test_discrete_space.py::test_orthogonal_grid_neumann_3d PASSED     [ 69%]
tests/test_discrete_space.py::test_orthogonal_grid_moore PASSED          [ 70%]
tests/test_discrete_space.py::test_orthogonal_grid_moore_3d PASSED       [ 71%]
tests/test_discrete_space.py::test_orthogonal_grid_moore_4d PASSED       [ 72%]
tests/test_discrete_space.py::test_orthogonal_grid_moore_1d PASSED       [ 74%]
tests/test_discrete_space.py::test_dynamic_modifications_to_space PASSED [ 75%]
tests/test_discrete_space.py::test_cell_neighborhood PASSED              [ 76%]
tests/test_discrete_space.py::test_hexgrid PASSED                        [ 77%]
tests/test_discrete_space.py::test_networkgrid PASSED                    [ 79%]
tests/test_discrete_space.py::test_voronoigrid PASSED                    [ 80%]
tests/test_discrete_space.py::test_empties_space PASSED                  [ 81%]
tests/test_discrete_space.py::test_agents_property PASSED                [ 82%]
tests/test_discrete_space.py::test_cell PASSED                           [ 83%]
tests/test_discrete_space.py::test_cell_collection PASSED                [ 85%]
tests/test_discrete_space.py::test_empty_cell_collection PASSED          [ 86%]
tests/test_discrete_space.py::test_property_layer_integration PASSED     [ 87%]
tests/test_discrete_space.py::test_copy_pickle_with_propertylayers PASSED [ 88%]
tests/test_discrete_space.py::test_multiple_property_layers PASSED       [ 90%]
tests/test_discrete_space.py::test_get_neighborhood_mask PASSED          [ 91%]
tests/test_discrete_space.py::test_select_cells PASSED                   [ 92%]
tests/test_discrete_space.py::test_property_layer PASSED                 [ 93%]
tests/test_discrete_space.py::test_property_layer_errors PASSED          [ 95%]
tests/test_discrete_space.py::test_cell_agent PASSED                     [ 96%]
tests/test_discrete_space.py::test_grid2DMovingAgent PASSED              [ 97%]
tests/test_discrete_space.py::test_patch PASSED                          [ 98%]
tests/test_discrete_space.py::test_copying_discrete_spaces PASSED        [100%]

============================== warnings summary ===============================
..\..\..\anaconda3\Lib\site-packages\solara\validate_hooks.py:122
  C:\Users\shreyas\anaconda3\Lib\site-packages\solara\validate_hooks.py:122: UserWarning: C:\Users\shreyas\Downloads\project-mesa\mesa-os\mesa\visualization\solara_viz.py:399: ComponentsView: `use_state` found despite early return on line 376
  To suppress this check, replace the line with:
      current_tab_index, set_current_tab_index = solara.use_state(0)  # noqa: SH101
  
  Make sure you understand the consequences of this, by reading about the rules of hooks at:
      https://solara.dev/documentation/advanced/understanding/rules-of-hooks
  
    warnings.warn(str(e))

tests/test_space_renderer.py: 15 warnings
  C:\Users\shreyas\Downloads\project-mesa\mesa-os\tests\test_space_renderer.py:46: UserWarning: Default value 0 (int) might not be best suitable with dtype=float.
    self.layer = PropertyLayer("test", [2, 2], default_value=0)

tests/test_space_drawer.py: 108 warnings
tests/test_solara_viz.py: 15 warnings
tests/test_discrete_space.py: 18 warnings
  C:\Users\shreyas\anaconda3\Lib\site-packages\numpy\matrixlib\defmatrix.py:1113: PendingDeprecationWarning: the matrix subclass is not the recommended way to represent matrices or deal with linear algebra (see https://docs.scipy.org/doc/numpy/user/numpy-for-matlab-users.html). Please adjust your code to use regular ndarray.
    return matrix(concatenate(arr_rows, axis=0))

tests/test_solara_viz.py::test_call_space_drawer
  C:\Users\shreyas\Downloads\project-mesa\mesa-os\tests\test_solara_viz.py:120: UserWarning: Default value 10.0 (float) might not be best suitable with dtype=float64.
    layer1 = PropertyLayer(

tests/test_solara_viz.py::test_call_space_drawer
  C:\Users\shreyas\Downloads\project-mesa\mesa-os\mesa\visualization\mpl_space_drawing.py:459: DeprecationWarning: Returning a dict from agent_portrayal is deprecated. Please return an AgentPortrayalStyle instance instead. For more information, refer to the migration guide: https://mesa.readthedocs.io/latest/migration_guide.html#defining-portrayal-components
    arguments = collect_agent_data(space, agent_portrayal, default_size=s_default)

tests/test_discrete_space.py::test_networkgrid
  C:\Users\shreyas\anaconda3\Lib\typing.py:1317: UserWarning: Random number generator not specified, this can make models non-reproducible. Please pass a random number generator explicitly
    result = self.__origin__(*args, **kwargs)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
====================== 81 passed, 160 warnings in 5.18s =======================
